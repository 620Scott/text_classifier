2021-03-17 19:37:10
{
  "classifier": "textcnn",
  "train_file": "data/data/train_data.csv",
  "embedding_method": null,
  "embedding_dim": 300,
  "token_file": "data/data/token2id",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/textcnn_fl",
  "checkpoint_name": "textcnn_fl",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": false,
  "attention_size": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "dropout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": true
}
dataManager initialed...
mode: train_classifier
model: textcnn
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.04263, precision: 0.537 recall: 0.647 f1: 0.587 
training batch:    40, loss: 0.03748, precision: 0.719 recall: 0.719 f1: 0.719 
training batch:    60, loss: 0.03850, precision: 0.719 recall: 0.676 f1: 0.697 
training batch:    80, loss: 0.02135, precision: 1.000 recall: 0.750 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.8360655737704918, 'recall': 0.7391304347826086, 'f1-score': 0.7846153846153846, 'support': 207}
positive: {'precision': 0.8064516129032258, 'recall': 0.8823529411764706, 'f1-score': 0.8426966292134832, 'support': 255}
time consumption:0.28(min), loss: 0.545 precision: 0.806 recall: 0.882 f1: 0.843 
saved the new best model with f1: 0.843
epoch:2/30
training batch:    20, loss: 0.02191, precision: 0.939 recall: 0.861 f1: 0.899 
training batch:    40, loss: 0.02621, precision: 0.811 recall: 0.882 f1: 0.845 
training batch:    60, loss: 0.02606, precision: 0.931 recall: 0.794 f1: 0.857 
training batch:    80, loss: 0.02541, precision: 1.000 recall: 0.800 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.7877094972067039, 'recall': 0.6811594202898551, 'f1-score': 0.7305699481865285, 'support': 207}
positive: {'precision': 0.7667844522968198, 'recall': 0.8509803921568627, 'f1-score': 0.8066914498141263, 'support': 255}
time consumption:0.27(min), loss: 0.506 precision: 0.767 recall: 0.851 f1: 0.807 
epoch:3/30
training batch:    20, loss: 0.01495, precision: 0.903 recall: 0.966 f1: 0.933 
training batch:    40, loss: 0.01245, precision: 1.000 recall: 0.909 f1: 0.952 
training batch:    60, loss: 0.01606, precision: 0.941 recall: 0.941 f1: 0.941 
training batch:    80, loss: 0.02741, precision: 0.500 recall: 0.333 f1: 0.400 
start evaluate engines...

negative: {'precision': 0.7696078431372549, 'recall': 0.7584541062801933, 'f1-score': 0.7639902676399026, 'support': 207}
positive: {'precision': 0.8062015503875969, 'recall': 0.8156862745098039, 'f1-score': 0.8109161793372319, 'support': 255}
time consumption:0.27(min), loss: 0.484 precision: 0.806 recall: 0.816 f1: 0.811 
epoch:4/30
training batch:    20, loss: 0.00763, precision: 0.946 recall: 0.972 f1: 0.959 
training batch:    40, loss: 0.01406, precision: 0.919 recall: 0.919 f1: 0.919 
training batch:    60, loss: 0.00883, precision: 0.947 recall: 1.000 f1: 0.973 
training batch:    80, loss: 0.00751, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7342995169082126, 'recall': 0.7342995169082126, 'f1-score': 0.7342995169082126, 'support': 207}
positive: {'precision': 0.7843137254901961, 'recall': 0.7843137254901961, 'f1-score': 0.7843137254901961, 'support': 255}
time consumption:0.26(min), loss: 0.492 precision: 0.784 recall: 0.784 f1: 0.784 
epoch:5/30
training batch:    20, loss: 0.01024, precision: 0.939 recall: 0.969 f1: 0.954 
training batch:    40, loss: 0.01770, precision: 0.886 recall: 1.000 f1: 0.939 
training batch:    60, loss: 0.00473, precision: 0.971 recall: 1.000 f1: 0.986 
training batch:    80, loss: 0.00574, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7486910994764397, 'recall': 0.6908212560386473, 'f1-score': 0.7185929648241206, 'support': 207}
positive: {'precision': 0.7638376383763837, 'recall': 0.8117647058823529, 'f1-score': 0.7870722433460077, 'support': 255}
time consumption:0.27(min), loss: 0.515 precision: 0.764 recall: 0.812 f1: 0.787 
epoch:6/30
training batch:    20, loss: 0.00472, precision: 0.972 recall: 1.000 f1: 0.986 
training batch:    40, loss: 0.00513, precision: 1.000 recall: 0.966 f1: 0.982 
training batch:    60, loss: 0.00473, precision: 1.000 recall: 0.978 f1: 0.989 
training batch:    80, loss: 0.00161, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7336683417085427, 'recall': 0.7053140096618358, 'f1-score': 0.7192118226600985, 'support': 207}
positive: {'precision': 0.7680608365019012, 'recall': 0.792156862745098, 'f1-score': 0.7799227799227799, 'support': 255}
time consumption:0.27(min), loss: 0.550 precision: 0.768 recall: 0.792 f1: 0.780 
epoch:7/30
training batch:    20, loss: 0.00402, precision: 1.000 recall: 0.933 f1: 0.966 
training batch:    40, loss: 0.00585, precision: 0.971 recall: 1.000 f1: 0.986 
training batch:    60, loss: 0.00650, precision: 0.971 recall: 1.000 f1: 0.985 
training batch:    80, loss: 0.00016, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7309644670050761, 'recall': 0.6956521739130435, 'f1-score': 0.7128712871287128, 'support': 207}
positive: {'precision': 0.7622641509433963, 'recall': 0.792156862745098, 'f1-score': 0.7769230769230769, 'support': 255}
time consumption:0.29(min), loss: 0.563 precision: 0.762 recall: 0.792 f1: 0.777 
epoch:8/30
training batch:    20, loss: 0.00257, precision: 0.971 recall: 1.000 f1: 0.986 
training batch:    40, loss: 0.00559, precision: 0.919 recall: 1.000 f1: 0.958 
training batch:    60, loss: 0.00248, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    80, loss: 0.00002, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.736318407960199, 'recall': 0.714975845410628, 'f1-score': 0.7254901960784315, 'support': 207}
positive: {'precision': 0.7739463601532567, 'recall': 0.792156862745098, 'f1-score': 0.7829457364341085, 'support': 255}
time consumption:0.27(min), loss: 0.598 precision: 0.774 recall: 0.792 f1: 0.783 
epoch:9/30
training batch:    20, loss: 0.00203, precision: 0.946 recall: 1.000 f1: 0.972 
training batch:    40, loss: 0.00333, precision: 0.971 recall: 0.971 f1: 0.971 
training batch:    60, loss: 0.00403, precision: 0.943 recall: 1.000 f1: 0.971 
training batch:    80, loss: 0.00550, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7593582887700535, 'recall': 0.6859903381642513, 'f1-score': 0.7208121827411168, 'support': 207}
positive: {'precision': 0.7636363636363637, 'recall': 0.8235294117647058, 'f1-score': 0.7924528301886793, 'support': 255}
time consumption:0.27(min), loss: 0.606 precision: 0.764 recall: 0.824 f1: 0.792 
early stopped, no progress obtained within 8 epochs
overall best f1 is 0.8426966292134832 at 1 epoch
total training time consumption: 2.435(min)
