2021-03-26 18:36:56
{
  "classifier": "textrnn",
  "train_file": "data/data/train_data.csv",
  "embedding_method": null,
  "embedding_dim": 300,
  "token_file": "data/data/token2id",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/attention_textrnn",
  "checkpoint_name": "attention_textrnn",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": true,
  "attention_size": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "dropout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": false
}
dataManager initialed...
mode: train_classifier
model: textrnn
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.69244, precision: 0.608 recall: 0.861 f1: 0.713 
training batch:    40, loss: 0.67825, precision: 0.500 recall: 0.815 f1: 0.620 
training batch:    60, loss: 0.64303, precision: 0.711 recall: 0.821 f1: 0.762 
training batch:    80, loss: 0.72047, precision: 0.000 recall: 0.000 f1: 0.000 
start evaluate engines...

negative: {'precision': 0.738562091503268, 'recall': 0.5458937198067633, 'f1-score': 0.6277777777777778, 'support': 207}
positive: {'precision': 0.6957928802588996, 'recall': 0.8431372549019608, 'f1-score': 0.7624113475177305, 'support': 255}
time consumption:2.08(min), loss: 0.633 precision: 0.696 recall: 0.843 f1: 0.762 
saved the new best model with f1: 0.762
epoch:2/30
training batch:    20, loss: 0.62041, precision: 0.622 recall: 0.793 f1: 0.697 
training batch:    40, loss: 0.56821, precision: 0.621 recall: 0.783 f1: 0.692 
training batch:    60, loss: 0.53901, precision: 0.757 recall: 0.824 f1: 0.789 
training batch:    80, loss: 0.94295, precision: 0.667 recall: 0.667 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7771428571428571, 'recall': 0.6570048309178744, 'f1-score': 0.7120418848167539, 'support': 207}
positive: {'precision': 0.7526132404181185, 'recall': 0.8470588235294118, 'f1-score': 0.7970479704797048, 'support': 255}
time consumption:1.85(min), loss: 0.616 precision: 0.753 recall: 0.847 f1: 0.797 
saved the new best model with f1: 0.797
epoch:3/30
training batch:    20, loss: 0.45001, precision: 0.914 recall: 0.914 f1: 0.914 
training batch:    40, loss: 0.33465, precision: 0.750 recall: 0.889 f1: 0.814 
training batch:    60, loss: 0.53757, precision: 0.763 recall: 0.853 f1: 0.806 
training batch:    80, loss: 0.15732, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7710843373493976, 'recall': 0.6183574879227053, 'f1-score': 0.6863270777479893, 'support': 207}
positive: {'precision': 0.7331081081081081, 'recall': 0.8509803921568627, 'f1-score': 0.7876588021778584, 'support': 255}
time consumption:1.86(min), loss: 0.588 precision: 0.733 recall: 0.851 f1: 0.788 
epoch:4/30
training batch:    20, loss: 0.35954, precision: 0.818 recall: 0.900 f1: 0.857 
training batch:    40, loss: 0.46986, precision: 0.788 recall: 0.897 f1: 0.839 
training batch:    60, loss: 0.39822, precision: 0.735 recall: 0.833 f1: 0.781 
training batch:    80, loss: 0.29498, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7384615384615385, 'recall': 0.6956521739130435, 'f1-score': 0.7164179104477613, 'support': 207}
positive: {'precision': 0.7640449438202247, 'recall': 0.8, 'f1-score': 0.7816091954022989, 'support': 255}
time consumption:1.93(min), loss: 0.653 precision: 0.764 recall: 0.800 f1: 0.782 
epoch:5/30
training batch:    20, loss: 0.30508, precision: 0.806 recall: 0.935 f1: 0.866 
training batch:    40, loss: 0.26199, precision: 0.886 recall: 0.969 f1: 0.925 
training batch:    60, loss: 0.21775, precision: 0.914 recall: 0.941 f1: 0.928 
training batch:    80, loss: 0.24368, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7225130890052356, 'recall': 0.6666666666666666, 'f1-score': 0.693467336683417, 'support': 207}
positive: {'precision': 0.7453874538745388, 'recall': 0.792156862745098, 'f1-score': 0.768060836501901, 'support': 255}
time consumption:2.05(min), loss: 0.637 precision: 0.745 recall: 0.792 f1: 0.768 
epoch:6/30
training batch:    20, loss: 0.23770, precision: 0.853 recall: 0.967 f1: 0.906 
training batch:    40, loss: 0.19885, precision: 0.914 recall: 1.000 f1: 0.955 
training batch:    60, loss: 0.37185, precision: 0.778 recall: 0.903 f1: 0.836 
training batch:    80, loss: 0.82308, precision: 0.667 recall: 1.000 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7227722772277227, 'recall': 0.7053140096618358, 'f1-score': 0.7139364303178485, 'support': 207}
positive: {'precision': 0.7653846153846153, 'recall': 0.7803921568627451, 'f1-score': 0.7728155339805826, 'support': 255}
time consumption:1.99(min), loss: 0.656 precision: 0.765 recall: 0.780 f1: 0.773 
epoch:7/30
training batch:    20, loss: 0.51597, precision: 0.889 recall: 0.686 f1: 0.774 
training batch:    40, loss: 0.43436, precision: 0.774 recall: 0.727 f1: 0.750 
training batch:    60, loss: 0.38157, precision: 0.868 recall: 0.868 f1: 0.868 
training batch:    80, loss: 0.21370, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.6730769230769231, 'recall': 0.6763285024154589, 'f1-score': 0.6746987951807228, 'support': 207}
positive: {'precision': 0.7362204724409449, 'recall': 0.7333333333333333, 'f1-score': 0.7347740667976423, 'support': 255}
time consumption:2.07(min), loss: 0.667 precision: 0.736 recall: 0.733 f1: 0.735 
epoch:8/30
training batch:    20, loss: 0.33572, precision: 0.829 recall: 0.879 f1: 0.853 
training batch:    40, loss: 0.29441, precision: 0.895 recall: 0.919 f1: 0.907 
training batch:    60, loss: 0.22593, precision: 0.917 recall: 0.971 f1: 0.943 
training batch:    80, loss: 0.21133, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.6859903381642513, 'recall': 0.6859903381642513, 'f1-score': 0.6859903381642513, 'support': 207}
positive: {'precision': 0.7450980392156863, 'recall': 0.7450980392156863, 'f1-score': 0.7450980392156863, 'support': 255}
time consumption:2.10(min), loss: 0.629 precision: 0.745 recall: 0.745 f1: 0.745 
epoch:9/30
training batch:    20, loss: 0.28038, precision: 0.935 recall: 0.879 f1: 0.906 
training batch:    40, loss: 0.28562, precision: 0.889 recall: 0.914 f1: 0.901 
training batch:    60, loss: 0.23304, precision: 0.971 recall: 0.892 f1: 0.930 
training batch:    80, loss: 0.32603, precision: 0.800 recall: 1.000 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.6711111111111111, 'recall': 0.7294685990338164, 'f1-score': 0.6990740740740741, 'support': 207}
positive: {'precision': 0.7637130801687764, 'recall': 0.7098039215686275, 'f1-score': 0.7357723577235773, 'support': 255}
time consumption:2.07(min), loss: 0.652 precision: 0.764 recall: 0.710 f1: 0.736 
epoch:10/30
training batch:    20, loss: 0.21106, precision: 0.906 recall: 0.906 f1: 0.906 
training batch:    40, loss: 0.33361, precision: 0.862 recall: 0.862 f1: 0.862 
training batch:    60, loss: 0.27576, precision: 0.882 recall: 0.968 f1: 0.923 
training batch:    80, loss: 0.09163, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7239583333333334, 'recall': 0.6714975845410628, 'f1-score': 0.6967418546365916, 'support': 207}
positive: {'precision': 0.7481481481481481, 'recall': 0.792156862745098, 'f1-score': 0.7695238095238094, 'support': 255}
time consumption:2.09(min), loss: 0.634 precision: 0.748 recall: 0.792 f1: 0.770 
early stopped, no progress obtained within 8 epochs
overall best f1 is 0.7970479704797048 at 2 epoch
total training time consumption: 20.082(min)
