2021-06-17 18:46:49
{
  "classifier": "textcnn",
  "train_file": "data/data/train_data.csv",
  "token_level": "char",
  "embedding_method": null,
  "embedding_dim": 300,
  "token_file": "data/data/token2id_char",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/textcnn_char",
  "checkpoint_name": "textcnn_char",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": false,
  "attention_size": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "dropout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": false
}
vocab files not exist...
dataManager initialed...
mode: train_classifier
model: textcnn
vocab files not exist, building vocab...
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.68218, precision: 0.667 recall: 0.474 f1: 0.554 
training batch:    40, loss: 0.61387, precision: 0.750 recall: 0.581 f1: 0.655 
training batch:    60, loss: 0.62521, precision: 0.514 recall: 0.720 f1: 0.600 
training batch:    80, loss: 0.56480, precision: 1.000 recall: 0.600 f1: 0.750 
start evaluate engines...

negative: {'precision': 0.7721518987341772, 'recall': 0.5893719806763285, 'f1-score': 0.6684931506849314, 'support': 207}
positive: {'precision': 0.7203947368421053, 'recall': 0.8588235294117647, 'f1-score': 0.7835420393559928, 'support': 255}
time consumption:0.13(min), loss: 0.521 precision: 0.720 recall: 0.859 f1: 0.784 
saved the new best model with f1: 0.784
epoch:2/30
training batch:    20, loss: 0.49911, precision: 0.788 recall: 0.722 f1: 0.754 
training batch:    40, loss: 0.53134, precision: 0.735 recall: 0.806 f1: 0.769 
training batch:    60, loss: 0.49080, precision: 0.786 recall: 0.759 f1: 0.772 
training batch:    80, loss: 0.55442, precision: 0.667 recall: 0.667 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7581395348837209, 'recall': 0.7874396135265701, 'f1-score': 0.7725118483412322, 'support': 207}
positive: {'precision': 0.8218623481781376, 'recall': 0.796078431372549, 'f1-score': 0.8087649402390438, 'support': 255}
time consumption:0.09(min), loss: 0.461 precision: 0.822 recall: 0.796 f1: 0.809 
saved the new best model with f1: 0.809
epoch:3/30
training batch:    20, loss: 0.40170, precision: 0.824 recall: 0.800 f1: 0.812 
training batch:    40, loss: 0.39507, precision: 0.886 recall: 0.816 f1: 0.849 
training batch:    60, loss: 0.34707, precision: 0.935 recall: 0.806 f1: 0.866 
training batch:    80, loss: 0.27029, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.7658536585365854, 'recall': 0.7584541062801933, 'f1-score': 0.7621359223300971, 'support': 207}
positive: {'precision': 0.8054474708171206, 'recall': 0.8117647058823529, 'f1-score': 0.80859375, 'support': 255}
time consumption:0.09(min), loss: 0.477 precision: 0.805 recall: 0.812 f1: 0.809 
epoch:4/30
training batch:    20, loss: 0.29355, precision: 0.881 recall: 0.925 f1: 0.902 
training batch:    40, loss: 0.32228, precision: 0.814 recall: 1.000 f1: 0.897 
training batch:    60, loss: 0.38007, precision: 0.833 recall: 0.806 f1: 0.820 
training batch:    80, loss: 0.31902, precision: 1.000 recall: 0.667 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7405660377358491, 'recall': 0.7584541062801933, 'f1-score': 0.7494033412887827, 'support': 207}
positive: {'precision': 0.8, 'recall': 0.7843137254901961, 'f1-score': 0.792079207920792, 'support': 255}
time consumption:0.09(min), loss: 0.504 precision: 0.800 recall: 0.784 f1: 0.792 
epoch:5/30
training batch:    20, loss: 0.20216, precision: 0.966 recall: 0.903 f1: 0.933 
training batch:    40, loss: 0.27348, precision: 0.912 recall: 0.838 f1: 0.873 
training batch:    60, loss: 0.32050, precision: 0.972 recall: 0.854 f1: 0.909 
training batch:    80, loss: 0.21014, precision: 1.000 recall: 0.667 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7549019607843137, 'recall': 0.7439613526570048, 'f1-score': 0.7493917274939172, 'support': 207}
positive: {'precision': 0.7945736434108527, 'recall': 0.803921568627451, 'f1-score': 0.7992202729044835, 'support': 255}
time consumption:0.09(min), loss: 0.555 precision: 0.795 recall: 0.804 f1: 0.799 
epoch:6/30
training batch:    20, loss: 0.17614, precision: 0.946 recall: 0.972 f1: 0.959 
training batch:    40, loss: 0.25973, precision: 0.895 recall: 0.944 f1: 0.919 
training batch:    60, loss: 0.36602, precision: 0.784 recall: 0.906 f1: 0.841 
training batch:    80, loss: 0.20076, precision: 1.000 recall: 0.500 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7548076923076923, 'recall': 0.7584541062801933, 'f1-score': 0.7566265060240964, 'support': 207}
positive: {'precision': 0.8031496062992126, 'recall': 0.8, 'f1-score': 0.8015717092337918, 'support': 255}
time consumption:0.09(min), loss: 0.583 precision: 0.803 recall: 0.800 f1: 0.802 
epoch:7/30
training batch:    20, loss: 0.14560, precision: 0.973 recall: 0.973 f1: 0.973 
training batch:    40, loss: 0.13873, precision: 0.939 recall: 0.969 f1: 0.954 
training batch:    60, loss: 0.22626, precision: 0.933 recall: 0.966 f1: 0.949 
training batch:    80, loss: 0.29592, precision: 0.500 recall: 1.000 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7988505747126436, 'recall': 0.6714975845410628, 'f1-score': 0.7296587926509186, 'support': 207}
positive: {'precision': 0.7638888888888888, 'recall': 0.8627450980392157, 'f1-score': 0.8103130755064457, 'support': 255}
time consumption:0.09(min), loss: 0.617 precision: 0.764 recall: 0.863 f1: 0.810 
saved the new best model with f1: 0.810
epoch:8/30
training batch:    20, loss: 0.21692, precision: 0.935 recall: 0.935 f1: 0.935 
training batch:    40, loss: 0.21070, precision: 1.000 recall: 0.879 f1: 0.935 
training batch:    60, loss: 0.12500, precision: 1.000 recall: 0.943 f1: 0.971 
training batch:    80, loss: 0.15552, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7345971563981043, 'recall': 0.748792270531401, 'f1-score': 0.7416267942583732, 'support': 207}
positive: {'precision': 0.7928286852589641, 'recall': 0.7803921568627451, 'f1-score': 0.7865612648221343, 'support': 255}
time consumption:0.09(min), loss: 0.646 precision: 0.793 recall: 0.780 f1: 0.787 
epoch:9/30
training batch:    20, loss: 0.10786, precision: 1.000 recall: 0.960 f1: 0.980 
training batch:    40, loss: 0.12381, precision: 0.968 recall: 1.000 f1: 0.984 
training batch:    60, loss: 0.17445, precision: 1.000 recall: 0.923 f1: 0.960 
training batch:    80, loss: 0.22418, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.7563451776649747, 'recall': 0.7198067632850241, 'f1-score': 0.7376237623762376, 'support': 207}
positive: {'precision': 0.7811320754716982, 'recall': 0.8117647058823529, 'f1-score': 0.7961538461538462, 'support': 255}
time consumption:0.09(min), loss: 0.676 precision: 0.781 recall: 0.812 f1: 0.796 
epoch:10/30
training batch:    20, loss: 0.20853, precision: 0.947 recall: 0.923 f1: 0.935 
training batch:    40, loss: 0.09321, precision: 1.000 recall: 0.926 f1: 0.962 
training batch:    60, loss: 0.21307, precision: 0.971 recall: 0.892 f1: 0.930 
training batch:    80, loss: 0.01650, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.751269035532995, 'recall': 0.714975845410628, 'f1-score': 0.7326732673267325, 'support': 207}
positive: {'precision': 0.7773584905660378, 'recall': 0.807843137254902, 'f1-score': 0.7923076923076924, 'support': 255}
time consumption:0.09(min), loss: 0.772 precision: 0.777 recall: 0.808 f1: 0.792 
epoch:11/30
training batch:    20, loss: 0.05685, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    40, loss: 0.04994, precision: 0.970 recall: 1.000 f1: 0.985 
training batch:    60, loss: 0.05454, precision: 0.969 recall: 1.000 f1: 0.984 
training batch:    80, loss: 0.06354, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7704918032786885, 'recall': 0.6811594202898551, 'f1-score': 0.7230769230769231, 'support': 207}
positive: {'precision': 0.7634408602150538, 'recall': 0.8352941176470589, 'f1-score': 0.7977528089887641, 'support': 255}
time consumption:0.09(min), loss: 0.845 precision: 0.763 recall: 0.835 f1: 0.798 
epoch:12/30
training batch:    20, loss: 0.08382, precision: 0.973 recall: 1.000 f1: 0.986 
training batch:    40, loss: 0.07522, precision: 0.971 recall: 1.000 f1: 0.986 
training batch:    60, loss: 0.05414, precision: 0.960 recall: 1.000 f1: 0.980 
training batch:    80, loss: 0.10856, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7425742574257426, 'recall': 0.7246376811594203, 'f1-score': 0.7334963325183375, 'support': 207}
positive: {'precision': 0.7807692307692308, 'recall': 0.796078431372549, 'f1-score': 0.7883495145631068, 'support': 255}
time consumption:0.09(min), loss: 0.868 precision: 0.781 recall: 0.796 f1: 0.788 
epoch:13/30
training batch:    20, loss: 0.04078, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    40, loss: 0.15839, precision: 0.969 recall: 0.861 f1: 0.912 
training batch:    60, loss: 0.10343, precision: 0.938 recall: 1.000 f1: 0.968 
training batch:    80, loss: 0.02649, precision: 0.000 recall: 0.000 f1: 0.000 
start evaluate engines...

negative: {'precision': 0.7246376811594203, 'recall': 0.7246376811594203, 'f1-score': 0.7246376811594203, 'support': 207}
positive: {'precision': 0.7764705882352941, 'recall': 0.7764705882352941, 'f1-score': 0.7764705882352941, 'support': 255}
time consumption:0.09(min), loss: 0.919 precision: 0.776 recall: 0.776 f1: 0.776 
epoch:14/30
training batch:    20, loss: 0.05695, precision: 0.971 recall: 0.971 f1: 0.971 
training batch:    40, loss: 0.04590, precision: 0.967 recall: 1.000 f1: 0.983 
training batch:    60, loss: 0.08503, precision: 0.968 recall: 0.968 f1: 0.968 
training batch:    80, loss: 0.01759, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7567567567567568, 'recall': 0.6763285024154589, 'f1-score': 0.7142857142857142, 'support': 207}
positive: {'precision': 0.7581227436823105, 'recall': 0.8235294117647058, 'f1-score': 0.7894736842105263, 'support': 255}
time consumption:0.09(min), loss: 0.960 precision: 0.758 recall: 0.824 f1: 0.789 
epoch:15/30
training batch:    20, loss: 0.03762, precision: 0.971 recall: 1.000 f1: 0.985 
training batch:    40, loss: 0.02455, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    60, loss: 0.06552, precision: 0.971 recall: 0.971 f1: 0.971 
training batch:    80, loss: 0.07393, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7427184466019418, 'recall': 0.7391304347826086, 'f1-score': 0.7409200968523002, 'support': 207}
positive: {'precision': 0.7890625, 'recall': 0.792156862745098, 'f1-score': 0.7906066536203522, 'support': 255}
time consumption:0.09(min), loss: 1.027 precision: 0.789 recall: 0.792 f1: 0.791 
early stopped, no progress obtained within 8 epochs
overall best f1 is 0.8103130755064457 at 7 epoch
total training time consumption: 1.404(min)
