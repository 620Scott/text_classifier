2021-03-15 19:14:26
{
  "classifier": "textcnn",
  "train_file": "data/data/train_data.csv",
  "embedding_method": 'word2vec',
  "embedding_dim": 300,
  "token_file": "data/data/token2id",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/word2vec_attention_textcnn",
  "checkpoint_name": "word2vec_attention_textcnn",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": true,
  "attention_size": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "dropout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": false
}
dataManager initialed...
mode: train_classifier
model: textcnn
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.68529, precision: 0.542 recall: 0.500 f1: 0.520 
training batch:    40, loss: 0.68288, precision: 0.600 recall: 1.000 f1: 0.750 
training batch:    60, loss: 0.68841, precision: 0.509 recall: 0.875 f1: 0.644 
training batch:    80, loss: 0.67367, precision: 0.800 recall: 0.800 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.5666666666666667, 'recall': 0.0821256038647343, 'f1-score': 0.14345991561181434, 'support': 207}
positive: {'precision': 0.5601851851851852, 'recall': 0.9490196078431372, 'f1-score': 0.7045123726346433, 'support': 255}
time consumption:0.56(min), loss: 0.706 precision: 0.560 recall: 0.949 f1: 0.705 
saved the new best model with f1: 0.705
epoch:2/30
training batch:    20, loss: 0.68156, precision: 0.619 recall: 1.000 f1: 0.765 
training batch:    40, loss: 0.67970, precision: 0.639 recall: 0.951 f1: 0.765 
training batch:    60, loss: 0.69814, precision: 0.557 recall: 0.971 f1: 0.708 
training batch:    80, loss: 0.67507, precision: 0.400 recall: 1.000 f1: 0.571 
start evaluate engines...

negative: {'precision': 0.6862745098039216, 'recall': 0.16908212560386474, 'f1-score': 0.2713178294573644, 'support': 207}
positive: {'precision': 0.5815085158150851, 'recall': 0.9372549019607843, 'f1-score': 0.7177177177177178, 'support': 255}
time consumption:0.44(min), loss: 0.677 precision: 0.582 recall: 0.937 f1: 0.718 
saved the new best model with f1: 0.718
epoch:3/30
training batch:    20, loss: 0.68417, precision: 0.462 recall: 0.857 f1: 0.600 
training batch:    40, loss: 0.67982, precision: 0.604 recall: 0.842 f1: 0.703 
training batch:    60, loss: 0.67182, precision: 0.593 recall: 0.921 f1: 0.722 
training batch:    80, loss: 0.69347, precision: 0.500 recall: 1.000 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7307692307692307, 'recall': 0.09178743961352658, 'f1-score': 0.16309012875536483, 'support': 207}
positive: {'precision': 0.5688073394495413, 'recall': 0.9725490196078431, 'f1-score': 0.7178002894356006, 'support': 255}
time consumption:0.41(min), loss: 0.673 precision: 0.569 recall: 0.973 f1: 0.718 
saved the new best model with f1: 0.718
epoch:4/30
training batch:    20, loss: 0.66687, precision: 0.613 recall: 1.000 f1: 0.760 
training batch:    40, loss: 0.67978, precision: 0.476 recall: 0.968 f1: 0.638 
training batch:    60, loss: 0.69426, precision: 0.600 recall: 0.973 f1: 0.742 
training batch:    80, loss: 0.69213, precision: 0.200 recall: 0.500 f1: 0.286 
start evaluate engines...

negative: {'precision': 0.6875, 'recall': 0.21256038647342995, 'f1-score': 0.3247232472324723, 'support': 207}
positive: {'precision': 0.5904522613065326, 'recall': 0.9215686274509803, 'f1-score': 0.7197549770290963, 'support': 255}
time consumption:0.47(min), loss: 0.676 precision: 0.590 recall: 0.922 f1: 0.720 
saved the new best model with f1: 0.720
epoch:5/30
training batch:    20, loss: 0.66239, precision: 0.564 recall: 0.939 f1: 0.705 
training batch:    40, loss: 0.67014, precision: 0.600 recall: 0.844 f1: 0.701 
training batch:    60, loss: 0.66800, precision: 0.528 recall: 0.933 f1: 0.675 
training batch:    80, loss: 0.65897, precision: 0.667 recall: 1.000 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.66, 'recall': 0.15942028985507245, 'f1-score': 0.25680933852140075, 'support': 207}
positive: {'precision': 0.5776699029126213, 'recall': 0.9333333333333333, 'f1-score': 0.7136431784107945, 'support': 255}
time consumption:0.50(min), loss: 0.661 precision: 0.578 recall: 0.933 f1: 0.714 
epoch:6/30
training batch:    20, loss: 0.64361, precision: 0.754 recall: 0.935 f1: 0.835 
training batch:    40, loss: 0.68522, precision: 0.474 recall: 0.871 f1: 0.614 
training batch:    60, loss: 0.67119, precision: 0.643 recall: 0.818 f1: 0.720 
training batch:    80, loss: 0.64815, precision: 0.800 recall: 0.800 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7681159420289855, 'recall': 0.5120772946859904, 'f1-score': 0.6144927536231886, 'support': 207}
positive: {'precision': 0.6882716049382716, 'recall': 0.8745098039215686, 'f1-score': 0.770293609671848, 'support': 255}
time consumption:0.44(min), loss: 0.662 precision: 0.688 recall: 0.875 f1: 0.770 
saved the new best model with f1: 0.770
epoch:7/30
training batch:    20, loss: 0.65912, precision: 0.633 recall: 0.838 f1: 0.721 
training batch:    40, loss: 0.63669, precision: 0.686 recall: 0.946 f1: 0.795 
training batch:    60, loss: 0.65264, precision: 0.705 recall: 0.816 f1: 0.756 
training batch:    80, loss: 0.63167, precision: 0.800 recall: 1.000 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.8012048192771084, 'recall': 0.642512077294686, 'f1-score': 0.7131367292225201, 'support': 207}
positive: {'precision': 0.75, 'recall': 0.8705882352941177, 'f1-score': 0.8058076225045372, 'support': 255}
time consumption:0.42(min), loss: 0.639 precision: 0.750 recall: 0.871 f1: 0.806 
saved the new best model with f1: 0.806
epoch:8/30
training batch:    20, loss: 0.62028, precision: 0.744 recall: 0.806 f1: 0.773 
training batch:    40, loss: 0.62154, precision: 0.571 recall: 0.870 f1: 0.690 
training batch:    60, loss: 0.62976, precision: 0.667 recall: 0.903 f1: 0.767 
training batch:    80, loss: 0.61870, precision: 0.667 recall: 0.667 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.751269035532995, 'recall': 0.714975845410628, 'f1-score': 0.7326732673267325, 'support': 207}
positive: {'precision': 0.7773584905660378, 'recall': 0.807843137254902, 'f1-score': 0.7923076923076924, 'support': 255}
time consumption:0.41(min), loss: 0.607 precision: 0.777 recall: 0.808 f1: 0.792 
epoch:9/30
training batch:    20, loss: 0.60524, precision: 0.673 recall: 0.892 f1: 0.767 
training batch:    40, loss: 0.59906, precision: 0.800 recall: 0.778 f1: 0.789 
training batch:    60, loss: 0.58484, precision: 0.600 recall: 0.889 f1: 0.716 
training batch:    80, loss: 0.70402, precision: 1.000 recall: 0.667 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7238095238095238, 'recall': 0.7342995169082126, 'f1-score': 0.7290167865707433, 'support': 207}
positive: {'precision': 0.7817460317460317, 'recall': 0.7725490196078432, 'f1-score': 0.7771203155818541, 'support': 255}
time consumption:0.41(min), loss: 0.577 precision: 0.782 recall: 0.773 f1: 0.777 
epoch:10/30
training batch:    20, loss: 0.55847, precision: 0.711 recall: 0.871 f1: 0.783 
training batch:    40, loss: 0.56095, precision: 0.722 recall: 0.839 f1: 0.776 
training batch:    60, loss: 0.54866, precision: 0.815 recall: 0.688 f1: 0.746 
training batch:    80, loss: 0.62114, precision: 0.500 recall: 1.000 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.8165680473372781, 'recall': 0.6666666666666666, 'f1-score': 0.7340425531914893, 'support': 207}
positive: {'precision': 0.764505119453925, 'recall': 0.8784313725490196, 'f1-score': 0.8175182481751825, 'support': 255}
time consumption:0.41(min), loss: 0.538 precision: 0.765 recall: 0.878 f1: 0.818 
saved the new best model with f1: 0.818
epoch:11/30
training batch:    20, loss: 0.53280, precision: 0.800 recall: 0.941 f1: 0.865 
training batch:    40, loss: 0.61821, precision: 0.706 recall: 0.706 f1: 0.706 
training batch:    60, loss: 0.50508, precision: 0.737 recall: 0.875 f1: 0.800 
training batch:    80, loss: 0.39189, precision: 0.800 recall: 1.000 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.8132530120481928, 'recall': 0.6521739130434783, 'f1-score': 0.7238605898123325, 'support': 207}
positive: {'precision': 0.7567567567567568, 'recall': 0.8784313725490196, 'f1-score': 0.8130671506352087, 'support': 255}
time consumption:0.42(min), loss: 0.510 precision: 0.757 recall: 0.878 f1: 0.813 
epoch:12/30
training batch:    20, loss: 0.52150, precision: 0.647 recall: 0.759 f1: 0.698 
training batch:    40, loss: 0.49299, precision: 0.833 recall: 0.811 f1: 0.822 
training batch:    60, loss: 0.63311, precision: 0.692 recall: 0.711 f1: 0.701 
training batch:    80, loss: 0.43381, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7644230769230769, 'recall': 0.7681159420289855, 'f1-score': 0.7662650602409637, 'support': 207}
positive: {'precision': 0.8110236220472441, 'recall': 0.807843137254902, 'f1-score': 0.8094302554027505, 'support': 255}
time consumption:0.43(min), loss: 0.502 precision: 0.811 recall: 0.808 f1: 0.809 
epoch:13/30
training batch:    20, loss: 0.41591, precision: 0.844 recall: 0.794 f1: 0.818 
training batch:    40, loss: 0.46922, precision: 0.793 recall: 0.793 f1: 0.793 
training batch:    60, loss: 0.54572, precision: 0.656 recall: 0.700 f1: 0.677 
training batch:    80, loss: 0.44360, precision: 0.800 recall: 1.000 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.815028901734104, 'recall': 0.6811594202898551, 'f1-score': 0.7421052631578947, 'support': 207}
positive: {'precision': 0.7716262975778547, 'recall': 0.8745098039215686, 'f1-score': 0.8198529411764706, 'support': 255}
time consumption:0.42(min), loss: 0.490 precision: 0.772 recall: 0.875 f1: 0.820 
saved the new best model with f1: 0.820
epoch:14/30
training batch:    20, loss: 0.43607, precision: 0.900 recall: 0.771 f1: 0.831 
training batch:    40, loss: 0.55353, precision: 0.900 recall: 0.628 f1: 0.740 
training batch:    60, loss: 0.43097, precision: 0.838 recall: 0.861 f1: 0.849 
training batch:    80, loss: 0.34499, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.8131868131868132, 'recall': 0.714975845410628, 'f1-score': 0.7609254498714654, 'support': 207}
positive: {'precision': 0.7892857142857143, 'recall': 0.8666666666666667, 'f1-score': 0.8261682242990654, 'support': 255}
time consumption:0.44(min), loss: 0.477 precision: 0.789 recall: 0.867 f1: 0.826 
saved the new best model with f1: 0.826
epoch:15/30
training batch:    20, loss: 0.43303, precision: 0.824 recall: 0.824 f1: 0.824 
training batch:    40, loss: 0.40984, precision: 0.800 recall: 0.914 f1: 0.853 
training batch:    60, loss: 0.47279, precision: 0.838 recall: 0.795 f1: 0.816 
training batch:    80, loss: 0.69276, precision: 0.500 recall: 0.667 f1: 0.571 
start evaluate engines...

negative: {'precision': 0.8111111111111111, 'recall': 0.7053140096618358, 'f1-score': 0.7545219638242895, 'support': 207}
positive: {'precision': 0.7836879432624113, 'recall': 0.8666666666666667, 'f1-score': 0.8230912476722533, 'support': 255}
time consumption:0.43(min), loss: 0.473 precision: 0.784 recall: 0.867 f1: 0.823 
epoch:16/30
training batch:    20, loss: 0.54837, precision: 0.750 recall: 0.750 f1: 0.750 
training batch:    40, loss: 0.46122, precision: 0.879 recall: 0.829 f1: 0.853 
training batch:    60, loss: 0.47725, precision: 0.710 recall: 0.815 f1: 0.759 
training batch:    80, loss: 0.31853, precision: 1.000 recall: 0.750 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.7969543147208121, 'recall': 0.7584541062801933, 'f1-score': 0.7772277227722771, 'support': 207}
positive: {'precision': 0.8113207547169812, 'recall': 0.8431372549019608, 'f1-score': 0.826923076923077, 'support': 255}
time consumption:0.43(min), loss: 0.467 precision: 0.811 recall: 0.843 f1: 0.827 
saved the new best model with f1: 0.827
epoch:17/30
training batch:    20, loss: 0.49800, precision: 0.759 recall: 0.647 f1: 0.698 
training batch:    40, loss: 0.46010, precision: 0.857 recall: 0.769 f1: 0.811 
training batch:    60, loss: 0.39016, precision: 0.839 recall: 0.867 f1: 0.852 
training batch:    80, loss: 0.33971, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.8134715025906736, 'recall': 0.7584541062801933, 'f1-score': 0.785, 'support': 207}
positive: {'precision': 0.8141263940520446, 'recall': 0.8588235294117647, 'f1-score': 0.8358778625954199, 'support': 255}
time consumption:0.43(min), loss: 0.464 precision: 0.814 recall: 0.859 f1: 0.836 
saved the new best model with f1: 0.836
epoch:18/30
training batch:    20, loss: 0.47636, precision: 0.763 recall: 0.829 f1: 0.795 
training batch:    40, loss: 0.47387, precision: 0.714 recall: 0.800 f1: 0.755 
training batch:    60, loss: 0.48770, precision: 0.781 recall: 0.781 f1: 0.781 
training batch:    80, loss: 0.17270, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.8020833333333334, 'recall': 0.7439613526570048, 'f1-score': 0.7719298245614036, 'support': 207}
positive: {'precision': 0.8037037037037037, 'recall': 0.8509803921568627, 'f1-score': 0.8266666666666667, 'support': 255}
time consumption:0.47(min), loss: 0.459 precision: 0.804 recall: 0.851 f1: 0.827 
epoch:19/30
training batch:    20, loss: 0.43176, precision: 0.879 recall: 0.829 f1: 0.853 
training batch:    40, loss: 0.49145, precision: 0.805 recall: 0.825 f1: 0.815 
training batch:    60, loss: 0.44878, precision: 0.852 recall: 0.742 f1: 0.793 
training batch:    80, loss: 0.42220, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.8181818181818182, 'recall': 0.6956521739130435, 'f1-score': 0.7519582245430809, 'support': 207}
positive: {'precision': 0.7797202797202797, 'recall': 0.8745098039215686, 'f1-score': 0.8243992606284658, 'support': 255}
time consumption:0.46(min), loss: 0.461 precision: 0.780 recall: 0.875 f1: 0.824 
epoch:20/30
training batch:    20, loss: 0.48641, precision: 0.774 recall: 0.750 f1: 0.762 
training batch:    40, loss: 0.38882, precision: 0.710 recall: 0.880 f1: 0.786 
training batch:    60, loss: 0.55637, precision: 0.658 recall: 0.758 f1: 0.704 
training batch:    80, loss: 0.42666, precision: 1.000 recall: 0.500 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7871287128712872, 'recall': 0.7681159420289855, 'f1-score': 0.7775061124694377, 'support': 207}
positive: {'precision': 0.8153846153846154, 'recall': 0.8313725490196079, 'f1-score': 0.8233009708737865, 'support': 255}
time consumption:0.43(min), loss: 0.456 precision: 0.815 recall: 0.831 f1: 0.823 
epoch:21/30
training batch:    20, loss: 0.41788, precision: 0.758 recall: 0.862 f1: 0.806 
training batch:    40, loss: 0.44863, precision: 0.707 recall: 0.906 f1: 0.795 
training batch:    60, loss: 0.53236, precision: 0.812 recall: 0.812 f1: 0.812 
training batch:    80, loss: 0.45277, precision: 1.000 recall: 0.750 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.8125, 'recall': 0.6908212560386473, 'f1-score': 0.7467362924281985, 'support': 207}
positive: {'precision': 0.7762237762237763, 'recall': 0.8705882352941177, 'f1-score': 0.8207024029574862, 'support': 255}
time consumption:0.44(min), loss: 0.457 precision: 0.776 recall: 0.871 f1: 0.821 
epoch:22/30
training batch:    20, loss: 0.40821, precision: 0.848 recall: 0.800 f1: 0.824 
training batch:    40, loss: 0.32098, precision: 0.902 recall: 0.925 f1: 0.914 
training batch:    60, loss: 0.38932, precision: 0.771 recall: 0.871 f1: 0.818 
training batch:    80, loss: 0.34241, precision: 1.000 recall: 0.667 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7878787878787878, 'recall': 0.7536231884057971, 'f1-score': 0.7703703703703704, 'support': 207}
positive: {'precision': 0.8068181818181818, 'recall': 0.8352941176470589, 'f1-score': 0.8208092485549133, 'support': 255}
time consumption:0.46(min), loss: 0.451 precision: 0.807 recall: 0.835 f1: 0.821 
epoch:23/30
training batch:    20, loss: 0.32739, precision: 0.923 recall: 0.878 f1: 0.900 
training batch:    40, loss: 0.41534, precision: 0.721 recall: 0.939 f1: 0.816 
training batch:    60, loss: 0.39832, precision: 0.867 recall: 0.765 f1: 0.812 
training batch:    80, loss: 0.29791, precision: 0.000 recall: 0.000 f1: 0.000 
start evaluate engines...

negative: {'precision': 0.8197674418604651, 'recall': 0.6811594202898551, 'f1-score': 0.7440633245382585, 'support': 207}
positive: {'precision': 0.7724137931034483, 'recall': 0.8784313725490196, 'f1-score': 0.8220183486238533, 'support': 255}
time consumption:0.43(min), loss: 0.458 precision: 0.772 recall: 0.878 f1: 0.822 
epoch:24/30
training batch:    20, loss: 0.33971, precision: 0.833 recall: 0.909 f1: 0.870 
training batch:    40, loss: 0.38256, precision: 0.780 recall: 0.889 f1: 0.831 
training batch:    60, loss: 0.32543, precision: 0.868 recall: 0.971 f1: 0.917 
training batch:    80, loss: 0.38493, precision: 0.667 recall: 1.000 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7843137254901961, 'recall': 0.7729468599033816, 'f1-score': 0.778588807785888, 'support': 207}
positive: {'precision': 0.8178294573643411, 'recall': 0.8274509803921568, 'f1-score': 0.8226120857699806, 'support': 255}
time consumption:0.45(min), loss: 0.455 precision: 0.818 recall: 0.827 f1: 0.823 
epoch:25/30
training batch:    20, loss: 0.41620, precision: 0.711 recall: 1.000 f1: 0.831 
training batch:    40, loss: 0.38428, precision: 0.875 recall: 0.933 f1: 0.903 
training batch:    60, loss: 0.27971, precision: 0.882 recall: 0.882 f1: 0.882 
training batch:    80, loss: 0.27533, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7843137254901961, 'recall': 0.7729468599033816, 'f1-score': 0.778588807785888, 'support': 207}
positive: {'precision': 0.8178294573643411, 'recall': 0.8274509803921568, 'f1-score': 0.8226120857699806, 'support': 255}
time consumption:0.53(min), loss: 0.450 precision: 0.818 recall: 0.827 f1: 0.823 
early stopped, no progress obtained within 8 epochs
overall best f1 is 0.8358778625954199 at 17 epoch
total training time consumption: 11.226(min)
