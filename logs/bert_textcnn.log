2021-03-16 14:18:55
{
  "classifier": "textcnn",
  "train_file": "data/data/train_data.csv",
  "embedding_method": "Bert",
  "embedding_dim": 300,
  "token_file": "data/data/token2id",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/bert_textcnn",
  "checkpoint_name": "bert_textcnn",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": false,
  "attention_dim": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "droupout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": false
}
dataManager initialed...
mode: train_classifier
model: textcnn
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.71239, precision: 0.574 recall: 0.818 f1: 0.675 
training batch:    40, loss: 0.57884, precision: 0.703 recall: 0.788 f1: 0.743 
training batch:    60, loss: 0.56886, precision: 0.719 recall: 0.719 f1: 0.719 
training batch:    80, loss: 0.53518, precision: 0.800 recall: 0.800 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.81, 'recall': 0.391304347826087, 'f1-score': 0.5276872964169381, 'support': 207}
positive: {'precision': 0.6519337016574586, 'recall': 0.9254901960784314, 'f1-score': 0.7649918962722851, 'support': 255}
time consumption:22.21(min), loss: 0.564 precision: 0.652 recall: 0.925 f1: 0.765 
saved the new best model with f1: 0.765
epoch:2/30
training batch:    20, loss: 0.56306, precision: 0.786 recall: 0.805 f1: 0.795 
training batch:    40, loss: 0.51288, precision: 0.737 recall: 0.538 f1: 0.622 
training batch:    60, loss: 0.62856, precision: 0.576 recall: 0.655 f1: 0.613 
training batch:    80, loss: 0.68016, precision: 0.500 recall: 0.667 f1: 0.571 
start evaluate engines...

negative: {'precision': 0.828125, 'recall': 0.5120772946859904, 'f1-score': 0.6328358208955224, 'support': 207}
positive: {'precision': 0.6976047904191617, 'recall': 0.9137254901960784, 'f1-score': 0.7911714770797963, 'support': 255}
time consumption:22.76(min), loss: 0.536 precision: 0.698 recall: 0.914 f1: 0.791 
saved the new best model with f1: 0.791
epoch:3/30
training batch:    20, loss: 0.62919, precision: 0.674 recall: 0.829 f1: 0.744 
training batch:    40, loss: 0.41166, precision: 0.815 recall: 0.710 f1: 0.759 
training batch:    60, loss: 0.60825, precision: 0.778 recall: 0.683 f1: 0.727 
training batch:    80, loss: 0.45985, precision: 0.750 recall: 0.750 f1: 0.750 
start evaluate engines...

negative: {'precision': 0.75, 'recall': 0.7681159420289855, 'f1-score': 0.7589498806682579, 'support': 207}
positive: {'precision': 0.808, 'recall': 0.792156862745098, 'f1-score': 0.7999999999999999, 'support': 255}
time consumption:23.20(min), loss: 0.498 precision: 0.808 recall: 0.792 f1: 0.800 
saved the new best model with f1: 0.800
epoch:4/30
training batch:    20, loss: 0.52018, precision: 0.618 recall: 0.808 f1: 0.700 
training batch:    40, loss: 0.47321, precision: 0.771 recall: 0.818 f1: 0.794 
training batch:    60, loss: 0.46863, precision: 0.781 recall: 0.806 f1: 0.794 
training batch:    80, loss: 0.57577, precision: 0.667 recall: 0.667 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7966101694915254, 'recall': 0.6811594202898551, 'f1-score': 0.7343750000000001, 'support': 207}
positive: {'precision': 0.7684210526315789, 'recall': 0.8588235294117647, 'f1-score': 0.8111111111111111, 'support': 255}
time consumption:22.88(min), loss: 0.479 precision: 0.768 recall: 0.859 f1: 0.811 
saved the new best model with f1: 0.811
epoch:5/30
training batch:    20, loss: 0.36100, precision: 0.825 recall: 0.971 f1: 0.892 
training batch:    40, loss: 0.39561, precision: 0.839 recall: 0.812 f1: 0.825 
training batch:    60, loss: 0.40897, precision: 0.882 recall: 0.789 f1: 0.833 
training batch:    80, loss: 0.46335, precision: 0.667 recall: 0.667 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7894736842105263, 'recall': 0.7246376811594203, 'f1-score': 0.7556675062972293, 'support': 207}
positive: {'precision': 0.7904411764705882, 'recall': 0.8431372549019608, 'f1-score': 0.8159392789373815, 'support': 255}
time consumption:23.35(min), loss: 0.463 precision: 0.790 recall: 0.843 f1: 0.816 
saved the new best model with f1: 0.816
epoch:6/30
training batch:    20, loss: 0.48088, precision: 0.800 recall: 0.842 f1: 0.821 
training batch:    40, loss: 0.43152, precision: 0.714 recall: 0.833 f1: 0.769 
training batch:    60, loss: 0.42053, precision: 0.852 recall: 0.697 f1: 0.767 
training batch:    80, loss: 0.50796, precision: 0.750 recall: 0.750 f1: 0.750 
start evaluate engines...

negative: {'precision': 0.8176470588235294, 'recall': 0.6714975845410628, 'f1-score': 0.7374005305039787, 'support': 207}
positive: {'precision': 0.7671232876712328, 'recall': 0.8784313725490196, 'f1-score': 0.8190127970749543, 'support': 255}
time consumption:23.49(min), loss: 0.484 precision: 0.767 recall: 0.878 f1: 0.819 
saved the new best model with f1: 0.819
epoch:7/30
training batch:    20, loss: 0.42903, precision: 0.913 recall: 0.656 f1: 0.764 
training batch:    40, loss: 0.43606, precision: 0.795 recall: 0.886 f1: 0.838 
training batch:    60, loss: 0.44683, precision: 0.917 recall: 0.667 f1: 0.772 
training batch:    80, loss: 0.76321, precision: 0.500 recall: 0.667 f1: 0.571 
start evaluate engines...

negative: {'precision': 0.8, 'recall': 0.714975845410628, 'f1-score': 0.7551020408163265, 'support': 207}
positive: {'precision': 0.7870036101083032, 'recall': 0.8549019607843137, 'f1-score': 0.819548872180451, 'support': 255}
time consumption:22.41(min), loss: 0.452 precision: 0.787 recall: 0.855 f1: 0.820 
saved the new best model with f1: 0.820
epoch:8/30
training batch:    20, loss: 0.34012, precision: 0.774 recall: 0.857 f1: 0.814 
training batch:    40, loss: 0.54716, precision: 0.794 recall: 0.900 f1: 0.844 
training batch:    60, loss: 0.37895, precision: 0.889 recall: 0.800 f1: 0.842 
training batch:    80, loss: 0.31989, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7347826086956522, 'recall': 0.8164251207729468, 'f1-score': 0.7734553775743707, 'support': 207}
positive: {'precision': 0.8362068965517241, 'recall': 0.7607843137254902, 'f1-score': 0.7967145790554414, 'support': 255}
time consumption:23.07(min), loss: 0.460 precision: 0.836 recall: 0.761 f1: 0.797 
epoch:9/30
training batch:    20, loss: 0.34094, precision: 0.872 recall: 0.895 f1: 0.883 
training batch:    40, loss: 0.36218, precision: 0.923 recall: 0.800 f1: 0.857 
training batch:    60, loss: 0.33474, precision: 0.935 recall: 0.829 f1: 0.879 
training batch:    80, loss: 0.24799, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.8580645161290322, 'recall': 0.642512077294686, 'f1-score': 0.734806629834254, 'support': 207}
positive: {'precision': 0.758957654723127, 'recall': 0.9137254901960784, 'f1-score': 0.8291814946619217, 'support': 255}
time consumption:22.88(min), loss: 0.483 precision: 0.759 recall: 0.914 f1: 0.829 
saved the new best model with f1: 0.829
epoch:10/30
training batch:    20, loss: 0.38595, precision: 0.875 recall: 0.848 f1: 0.862 
training batch:    40, loss: 0.38881, precision: 0.767 recall: 0.885 f1: 0.821 
training batch:    60, loss: 0.29590, precision: 0.846 recall: 0.786 f1: 0.815 
training batch:    80, loss: 0.20295, precision: 0.800 recall: 1.000 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.798941798941799, 'recall': 0.7294685990338164, 'f1-score': 0.7626262626262625, 'support': 207}
positive: {'precision': 0.7948717948717948, 'recall': 0.8509803921568627, 'f1-score': 0.8219696969696969, 'support': 255}
time consumption:22.06(min), loss: 0.458 precision: 0.795 recall: 0.851 f1: 0.822 
epoch:11/30
training batch:    20, loss: 0.42930, precision: 1.000 recall: 0.789 f1: 0.882 
training batch:    40, loss: 0.27919, precision: 0.897 recall: 0.839 f1: 0.867 
training batch:    60, loss: 0.23286, precision: 0.842 recall: 0.970 f1: 0.901 
training batch:    80, loss: 0.98415, precision: 1.000 recall: 0.400 f1: 0.571 
start evaluate engines...

negative: {'precision': 0.7927461139896373, 'recall': 0.7391304347826086, 'f1-score': 0.7650000000000001, 'support': 207}
positive: {'precision': 0.7992565055762082, 'recall': 0.8431372549019608, 'f1-score': 0.8206106870229007, 'support': 255}
time consumption:21.48(min), loss: 0.456 precision: 0.799 recall: 0.843 f1: 0.821 
epoch:12/30
training batch:    20, loss: 0.44267, precision: 0.825 recall: 0.868 f1: 0.846 
training batch:    40, loss: 0.32806, precision: 0.800 recall: 0.828 f1: 0.814 
training batch:    60, loss: 0.30100, precision: 0.886 recall: 0.951 f1: 0.918 
training batch:    80, loss: 0.21235, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.748898678414097, 'recall': 0.821256038647343, 'f1-score': 0.783410138248848, 'support': 207}
positive: {'precision': 0.8425531914893617, 'recall': 0.7764705882352941, 'f1-score': 0.8081632653061225, 'support': 255}
time consumption:21.55(min), loss: 0.447 precision: 0.843 recall: 0.776 f1: 0.808 
epoch:13/30
training batch:    20, loss: 0.30316, precision: 0.917 recall: 0.786 f1: 0.846 
training batch:    40, loss: 0.40963, precision: 0.756 recall: 0.861 f1: 0.805 
training batch:    60, loss: 0.30823, precision: 0.829 recall: 0.971 f1: 0.895 
training batch:    80, loss: 0.55883, precision: 1.000 recall: 0.750 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.7434782608695653, 'recall': 0.8260869565217391, 'f1-score': 0.782608695652174, 'support': 207}
positive: {'precision': 0.8448275862068966, 'recall': 0.7686274509803922, 'f1-score': 0.8049281314168378, 'support': 255}
time consumption:23.18(min), loss: 0.459 precision: 0.845 recall: 0.769 f1: 0.805 
epoch:14/30
training batch:    20, loss: 0.26867, precision: 0.879 recall: 0.853 f1: 0.866 
