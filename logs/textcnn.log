2021-03-17 14:15:47
{
  "classifier": "textcnn",
  "train_file": "data/data/train_data.csv",
  "embedding_method": null,
  "embedding_dim": 300,
  "token_file": "data/data/token2id",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/textcnn",
  "checkpoint_name": "textcnn",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": false,
  "attention_dim": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "droupout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": false
}
vocab files not exist...
dataManager initialed...
mode: train_classifier
model: textcnn
vocab files not exist, building vocab...
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.67784, precision: 0.571 recall: 0.129 f1: 0.211 
training batch:    40, loss: 0.56933, precision: 0.811 recall: 0.811 f1: 0.811 
training batch:    60, loss: 0.54973, precision: 0.743 recall: 0.765 f1: 0.754 
training batch:    80, loss: 0.55269, precision: 0.750 recall: 0.750 f1: 0.750 
start evaluate engines...

negative: {'precision': 0.8105263157894737, 'recall': 0.7439613526570048, 'f1-score': 0.7758186397984885, 'support': 207}
positive: {'precision': 0.8051470588235294, 'recall': 0.8588235294117647, 'f1-score': 0.8311195445920303, 'support': 255}
time consumption:0.29(min), loss: 0.460 precision: 0.805 recall: 0.859 f1: 0.831 
saved the new best model with f1: 0.831
epoch:2/30
training batch:    20, loss: 0.38859, precision: 0.821 recall: 0.852 f1: 0.836 
training batch:    40, loss: 0.48675, precision: 0.750 recall: 0.818 f1: 0.783 
training batch:    60, loss: 0.29446, precision: 0.741 recall: 0.909 f1: 0.816 
training batch:    80, loss: 0.13148, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.84, 'recall': 0.7101449275362319, 'f1-score': 0.7696335078534032, 'support': 207}
positive: {'precision': 0.7909407665505227, 'recall': 0.8901960784313725, 'f1-score': 0.8376383763837639, 'support': 255}
time consumption:0.27(min), loss: 0.445 precision: 0.791 recall: 0.890 f1: 0.838 
saved the new best model with f1: 0.838
epoch:3/30
training batch:    20, loss: 0.26775, precision: 0.919 recall: 0.919 f1: 0.919 
training batch:    40, loss: 0.12897, precision: 0.949 recall: 1.000 f1: 0.974 
training batch:    60, loss: 0.17025, precision: 0.935 recall: 0.967 f1: 0.951 
training batch:    80, loss: 0.17615, precision: 1.000 recall: 0.500 f1: 0.667 
start evaluate engines...

negative: {'precision': 0.7799043062200957, 'recall': 0.7874396135265701, 'f1-score': 0.7836538461538463, 'support': 207}
positive: {'precision': 0.8260869565217391, 'recall': 0.8196078431372549, 'f1-score': 0.8228346456692914, 'support': 255}
time consumption:0.29(min), loss: 0.502 precision: 0.826 recall: 0.820 f1: 0.823 
epoch:4/30
training batch:    20, loss: 0.19034, precision: 0.909 recall: 0.938 f1: 0.923 
training batch:    40, loss: 0.13042, precision: 0.971 recall: 0.971 f1: 0.971 
training batch:    60, loss: 0.23751, precision: 0.972 recall: 0.921 f1: 0.946 
training batch:    80, loss: 0.02171, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7586206896551724, 'recall': 0.7439613526570048, 'f1-score': 0.751219512195122, 'support': 207}
positive: {'precision': 0.7953667953667953, 'recall': 0.807843137254902, 'f1-score': 0.8015564202334631, 'support': 255}
time consumption:0.27(min), loss: 0.603 precision: 0.795 recall: 0.808 f1: 0.802 
epoch:5/30
training batch:    20, loss: 0.03840, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    40, loss: 0.10362, precision: 0.946 recall: 0.972 f1: 0.959 
training batch:    60, loss: 0.04155, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    80, loss: 0.21942, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.751269035532995, 'recall': 0.714975845410628, 'f1-score': 0.7326732673267325, 'support': 207}
positive: {'precision': 0.7773584905660378, 'recall': 0.807843137254902, 'f1-score': 0.7923076923076924, 'support': 255}
time consumption:0.31(min), loss: 0.673 precision: 0.777 recall: 0.808 f1: 0.792 
epoch:6/30
training batch:    20, loss: 0.16945, precision: 0.886 recall: 1.000 f1: 0.939 
training batch:    40, loss: 0.05225, precision: 1.000 recall: 0.976 f1: 0.988 
training batch:    60, loss: 0.06199, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    80, loss: 0.00175, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7566137566137566, 'recall': 0.6908212560386473, 'f1-score': 0.7222222222222221, 'support': 207}
positive: {'precision': 0.7655677655677655, 'recall': 0.8196078431372549, 'f1-score': 0.7916666666666665, 'support': 255}
time consumption:0.27(min), loss: 0.781 precision: 0.766 recall: 0.820 f1: 0.792 
epoch:7/30
training batch:    20, loss: 0.06584, precision: 0.923 recall: 1.000 f1: 0.960 
training batch:    40, loss: 0.05968, precision: 0.929 recall: 1.000 f1: 0.963 
training batch:    60, loss: 0.05909, precision: 0.951 recall: 1.000 f1: 0.975 
training batch:    80, loss: 0.18238, precision: 1.000 recall: 0.667 f1: 0.800 
start evaluate engines...

negative: {'precision': 0.7373737373737373, 'recall': 0.7053140096618358, 'f1-score': 0.7209876543209875, 'support': 207}
positive: {'precision': 0.7689393939393939, 'recall': 0.796078431372549, 'f1-score': 0.7822736030828515, 'support': 255}
time consumption:0.27(min), loss: 0.829 precision: 0.769 recall: 0.796 f1: 0.782 
epoch:8/30
training batch:    20, loss: 0.10552, precision: 1.000 recall: 0.944 f1: 0.971 
training batch:    40, loss: 0.04582, precision: 1.000 recall: 0.971 f1: 0.986 
training batch:    60, loss: 0.02520, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    80, loss: 0.06048, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7461139896373057, 'recall': 0.6956521739130435, 'f1-score': 0.72, 'support': 207}
positive: {'precision': 0.7657992565055762, 'recall': 0.807843137254902, 'f1-score': 0.7862595419847329, 'support': 255}
time consumption:0.27(min), loss: 0.925 precision: 0.766 recall: 0.808 f1: 0.786 
epoch:9/30
training batch:    20, loss: 0.03023, precision: 0.971 recall: 1.000 f1: 0.986 
training batch:    40, loss: 0.05291, precision: 0.974 recall: 0.974 f1: 0.974 
training batch:    60, loss: 0.04814, precision: 1.000 recall: 0.973 f1: 0.986 
training batch:    80, loss: 0.10384, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7233009708737864, 'recall': 0.7198067632850241, 'f1-score': 0.7215496368038741, 'support': 207}
positive: {'precision': 0.7734375, 'recall': 0.7764705882352941, 'f1-score': 0.7749510763209394, 'support': 255}
time consumption:0.27(min), loss: 1.011 precision: 0.773 recall: 0.776 f1: 0.775 
epoch:10/30
training batch:    20, loss: 0.01948, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    40, loss: 0.07188, precision: 0.967 recall: 1.000 f1: 0.983 
training batch:    60, loss: 0.01629, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    80, loss: 0.04716, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7183098591549296, 'recall': 0.7391304347826086, 'f1-score': 0.7285714285714284, 'support': 207}
positive: {'precision': 0.7831325301204819, 'recall': 0.7647058823529411, 'f1-score': 0.7738095238095238, 'support': 255}
time consumption:0.27(min), loss: 1.071 precision: 0.783 recall: 0.765 f1: 0.774 
early stopped, no progress obtained within 8 epochs
overall best f1 is 0.8376383763837639 at 2 epoch
total training time consumption: 2.777(min)
