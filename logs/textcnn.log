2021-03-17 16:38:38
{
  "classifier": "textcnn",
  "train_file": "data/data/train_data.csv",
  "embedding_method": null,
  "embedding_dim": 300,
  "token_file": "data/data/token2id",
  "dev_file": "data/data/dev_data.csv",
  "classes": {
    "negative": 0,
    "positive": 1
  },
  "checkpoints_dir": "model/textcnn",
  "checkpoint_name": "textcnn",
  "num_filters": 64,
  "learning_rate": 0.001,
  "epoch": 30,
  "max_to_keep": 1,
  "print_per_batch": 20,
  "is_early_stop": true,
  "use_attention": false,
  "attention_dim": 300,
  "patient": 8,
  "batch_size": 64,
  "max_sequence_length": 150,
  "droupout_rate": 0.5,
  "hidden_dim": 200,
  "metrics_average": "binary",
  "use_focal_loss": false
}
vocab files not exist...
dataManager initialed...
mode: train_classifier
model: textcnn
vocab files not exist, building vocab...
loading data...
loading data...
++++++++++++++++++++training starting++++++++++++++++++++
epoch:1/30
training batch:    20, loss: 0.65805, precision: 0.690 recall: 0.667 f1: 0.678 
training batch:    40, loss: 0.49690, precision: 0.810 recall: 0.919 f1: 0.861 
training batch:    60, loss: 0.58582, precision: 0.750 recall: 0.636 f1: 0.689 
training batch:    80, loss: 0.70143, precision: 0.500 recall: 0.500 f1: 0.500 
start evaluate engines...

negative: {'precision': 0.8021390374331551, 'recall': 0.7246376811594203, 'f1-score': 0.7614213197969544, 'support': 207}
positive: {'precision': 0.7927272727272727, 'recall': 0.8549019607843137, 'f1-score': 0.8226415094339623, 'support': 255}
time consumption:0.33(min), loss: 0.468 precision: 0.793 recall: 0.855 f1: 0.823 
saved the new best model with f1: 0.823
epoch:2/30
training batch:    20, loss: 0.33413, precision: 0.929 recall: 0.839 f1: 0.881 
training batch:    40, loss: 0.53603, precision: 0.750 recall: 0.700 f1: 0.724 
training batch:    60, loss: 0.48181, precision: 0.780 recall: 0.889 f1: 0.831 
training batch:    80, loss: 0.25394, precision: 1.000 recall: 0.800 f1: 0.889 
start evaluate engines...

negative: {'precision': 0.8415300546448088, 'recall': 0.7439613526570048, 'f1-score': 0.7897435897435897, 'support': 207}
positive: {'precision': 0.8100358422939068, 'recall': 0.8862745098039215, 'f1-score': 0.846441947565543, 'support': 255}
time consumption:0.31(min), loss: 0.442 precision: 0.810 recall: 0.886 f1: 0.846 
saved the new best model with f1: 0.846
epoch:3/30
training batch:    20, loss: 0.17996, precision: 0.938 recall: 0.968 f1: 0.952 
training batch:    40, loss: 0.25486, precision: 0.903 recall: 0.848 f1: 0.875 
training batch:    60, loss: 0.42832, precision: 0.806 recall: 0.806 f1: 0.806 
training batch:    80, loss: 0.24332, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.8118279569892473, 'recall': 0.7294685990338164, 'f1-score': 0.7684478371501272, 'support': 207}
positive: {'precision': 0.7971014492753623, 'recall': 0.8627450980392157, 'f1-score': 0.8286252354048964, 'support': 255}
time consumption:0.31(min), loss: 0.502 precision: 0.797 recall: 0.863 f1: 0.829 
epoch:4/30
training batch:    20, loss: 0.12878, precision: 0.914 recall: 0.970 f1: 0.941 
training batch:    40, loss: 0.24835, precision: 0.964 recall: 0.818 f1: 0.885 
training batch:    60, loss: 0.16789, precision: 1.000 recall: 0.875 f1: 0.933 
training batch:    80, loss: 0.29984, precision: 0.750 recall: 1.000 f1: 0.857 
start evaluate engines...

negative: {'precision': 0.7523364485981309, 'recall': 0.7777777777777778, 'f1-score': 0.7648456057007127, 'support': 207}
positive: {'precision': 0.8145161290322581, 'recall': 0.792156862745098, 'f1-score': 0.8031809145129225, 'support': 255}
time consumption:0.30(min), loss: 0.618 precision: 0.815 recall: 0.792 f1: 0.803 
epoch:5/30
training batch:    20, loss: 0.06420, precision: 0.967 recall: 1.000 f1: 0.983 
training batch:    40, loss: 0.10723, precision: 0.941 recall: 1.000 f1: 0.970 
training batch:    60, loss: 0.17639, precision: 0.935 recall: 0.935 f1: 0.935 
training batch:    80, loss: 0.07596, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7696335078534031, 'recall': 0.7101449275362319, 'f1-score': 0.7386934673366834, 'support': 207}
positive: {'precision': 0.7785977859778598, 'recall': 0.8274509803921568, 'f1-score': 0.8022813688212928, 'support': 255}
time consumption:0.31(min), loss: 0.753 precision: 0.779 recall: 0.827 f1: 0.802 
epoch:6/30
training batch:    20, loss: 0.06156, precision: 0.972 recall: 0.972 f1: 0.972 
training batch:    40, loss: 0.07658, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    60, loss: 0.12317, precision: 1.000 recall: 0.921 f1: 0.959 
training batch:    80, loss: 0.06689, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7616580310880829, 'recall': 0.7101449275362319, 'f1-score': 0.7350000000000001, 'support': 207}
positive: {'precision': 0.7769516728624535, 'recall': 0.8196078431372549, 'f1-score': 0.7977099236641222, 'support': 255}
time consumption:0.30(min), loss: 0.845 precision: 0.777 recall: 0.820 f1: 0.798 
epoch:7/30
training batch:    20, loss: 0.07016, precision: 0.935 recall: 1.000 f1: 0.967 
training batch:    40, loss: 0.03797, precision: 0.975 recall: 1.000 f1: 0.987 
training batch:    60, loss: 0.03913, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    80, loss: 0.07246, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7365591397849462, 'recall': 0.6618357487922706, 'f1-score': 0.697201017811705, 'support': 207}
positive: {'precision': 0.7463768115942029, 'recall': 0.807843137254902, 'f1-score': 0.775894538606403, 'support': 255}
time consumption:0.31(min), loss: 0.971 precision: 0.746 recall: 0.808 f1: 0.776 
epoch:8/30
training batch:    20, loss: 0.06657, precision: 0.949 recall: 1.000 f1: 0.974 
training batch:    40, loss: 0.04344, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    60, loss: 0.05660, precision: 0.938 recall: 1.000 f1: 0.968 
training batch:    80, loss: 0.00049, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.6936936936936937, 'recall': 0.7439613526570048, 'f1-score': 0.717948717948718, 'support': 207}
positive: {'precision': 0.7791666666666667, 'recall': 0.7333333333333333, 'f1-score': 0.7555555555555555, 'support': 255}
time consumption:0.30(min), loss: 1.073 precision: 0.779 recall: 0.733 f1: 0.756 
epoch:9/30
training batch:    20, loss: 0.03473, precision: 1.000 recall: 1.000 f1: 1.000 
training batch:    40, loss: 0.08148, precision: 1.000 recall: 0.976 f1: 0.988 
training batch:    60, loss: 0.04653, precision: 1.000 recall: 0.975 f1: 0.987 
training batch:    80, loss: 0.05265, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7258883248730964, 'recall': 0.6908212560386473, 'f1-score': 0.7079207920792079, 'support': 207}
positive: {'precision': 0.7584905660377359, 'recall': 0.788235294117647, 'f1-score': 0.7730769230769231, 'support': 255}
time consumption:0.32(min), loss: 1.145 precision: 0.758 recall: 0.788 f1: 0.773 
epoch:10/30
training batch:    20, loss: 0.11134, precision: 0.971 recall: 1.000 f1: 0.986 
training batch:    40, loss: 0.04281, precision: 0.971 recall: 1.000 f1: 0.985 
training batch:    60, loss: 0.04899, precision: 0.969 recall: 1.000 f1: 0.984 
training batch:    80, loss: 0.04147, precision: 1.000 recall: 1.000 f1: 1.000 
start evaluate engines...

negative: {'precision': 0.7230769230769231, 'recall': 0.6811594202898551, 'f1-score': 0.7014925373134329, 'support': 207}
positive: {'precision': 0.7528089887640449, 'recall': 0.788235294117647, 'f1-score': 0.7701149425287356, 'support': 255}
time consumption:0.31(min), loss: 1.204 precision: 0.753 recall: 0.788 f1: 0.770 
early stopped, no progress obtained within 8 epochs
overall best f1 is 0.846441947565543 at 2 epoch
total training time consumption: 3.116(min)
